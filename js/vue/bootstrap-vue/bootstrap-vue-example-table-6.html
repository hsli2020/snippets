<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset="UTF-8">
  <title>Bootstrap Vue Example</title>
  <meta name="robots" content="noindex">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="https://unpkg.com/bootstrap@4.5.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://unpkg.com/bootstrap-vue@2.16.0/dist/bootstrap-vue.css">
  <style>[v-cloak] {display: none}</style>
</head>
<body>

  <div id="app" v-cloak>
    <h2>Row styling and attributes</h2>
    <b-button @click="toggleBusy">Toggle Busy State</b-button>
    <b-table caption-top :items="items" :fields="fields" :busy="isBusy" class="mt-3" outlined :tbody-tr-class="rowClass">
      <template v-slot:table-caption>This is a table caption.</template>
      <template v-slot:table-busy>
        <div class="text-center text-danger my-2">
          <b-spinner class="align-middle"></b-spinner>
          <strong>Loading...</strong>
        </div>
      </template>
    </b-table>
  </div>

  <script src="https://unpkg.com/babel-polyfill/dist/polyfill.min.js"></script>
  <script src="https://unpkg.com/vue@2.6.11/dist/vue.min.js"></script>
  <script src="https://unpkg.com/bootstrap-vue@2.16.0/dist/bootstrap-vue.min.js"></script>
  <script src="https://unpkg.com/bootstrap-vue@2.16.0/dist/bootstrap-vue-icons.min.js"></script>
  
  <script>
    window.onload = () => {
      new Vue({
        el: '#app',
        data() {
          return {
            isBusy: false,
            fields: ['first_name', 'last_name', 'age'],
            items: [
              { age: 40, first_name: 'Dickerson', last_name: 'Macdonald', status: 'awesome' },
              { age: 21, first_name: 'Larsen', last_name: 'Shaw' },
              { age: 89, first_name: 'Geneva', last_name: 'Wilson' }
            ]
          }
        },
        methods: {
          rowClass(item, type) {
            if (!item || type !== 'row') return
            if (item.status === 'awesome') return 'table-success'
          },
          toggleBusy() {
            this.isBusy = !this.isBusy
          }
        }
      });
    };
  </script>

</body>
</html>
